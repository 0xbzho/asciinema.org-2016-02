{"ID":37031,"Author":{"Name":"leosuncin","ID":0,"FullName":"","Gravatar":"4462bf21890acd170f24783f7e894465"},"Title":"Sails check every connection when lift even unused","Description":"\u003cdiv class=\"content\"\u003e\u003cp\u003eI had problems to deploy sails to heroku with ORM connection to MongoLab:\u003cbr/\u003e\n```\u003cbr/\u003e\nError: Failed to connect to MongoDB.  Are you sure your configured Mongo instance is running?\u003cbr/\u003e\n Error details:\u003cbr/\u003e\n{ [MongoError: connect ECONNREFUSED 127.0.0.1:27017]\u003cbr/\u003e\n  name: \u0026#39;MongoError\u0026#39;,\u003cbr/\u003e\n  message: \u0026#39;connect ECONNREFUSED 127.0.0.1:27017\u0026#39; }\u003cbr/\u003e\n  at \u003cem\u003ecreateError (/home/leosuncin/Workspaces/github/sails-issue-3581/node_modules/sails-mongo/lib/adapter.js:103:23)\u003cbr/\u003e\n  at /home/leosuncin/Workspaces/github/sails-issue-3581/node_modules/sails-mongo/lib/adapter.js:106:13\u003cbr/\u003e\n  at /home/leosuncin/Workspaces/github/sails-issue-3581/node_modules/sails-mongo/lib/connection.js:25:20\u003cbr/\u003e\n  at /home/leosuncin/Workspaces/github/sails-issue-3581/node_modules/mongodb/lib/mongo_client.js:276:20\u003cbr/\u003e\n  at /home/leosuncin/Workspaces/github/sails-issue-3581/node_modules/mongodb/lib/db.js:224:14\u003cbr/\u003e\n  at [object Object]. (/home/leosuncin/Workspaces/github/sails-issue-3581/node_modules/mongodb/lib/server.js:234:9)\u003cbr/\u003e\n  at [object Object].g (events.js:273:16)\u003cbr/\u003e\n  at emitTwo (events.js:100:13)\u003cbr/\u003e\n  at [object Object].emit (events.js:185:7)\u003cbr/\u003e\n  at [object Object]. (/home/leosuncin/Workspaces/github/sails-issue-3581/node_modules/mongodb-core/lib/topologies/server.js:269:68)\u003cbr/\u003e\n  at [object Object].g (events.js:273:16)\u003cbr/\u003e\n  at emitTwo (events.js:100:13)\u003cbr/\u003e\n  at [object Object].emit (events.js:185:7)\u003cbr/\u003e\n  at [object Object]. (/home/leosuncin/Workspaces/github/sails-issue-3581/node\u003c/em\u003emodules/mongodb-core/lib/connection/pool.js:81:12)\u003cbr/\u003e\n  at [object Object].g (events.js:273:16)\u003cbr/\u003e\n  at emitTwo (events.js:100:13)\u003cbr/\u003e\n  at [object Object].emit (events.js:185:7)\u003cbr/\u003e\n  at Socket. (/home/leosuncin/Workspaces/github/sails-issue-3581/node_modules/mongodb-core/lib/connection/connection.js:124:49)\u003cbr/\u003e\n  at Socket.g (events.js:273:16)\u003cbr/\u003e\n  at emitOne (events.js:90:13)\u003cbr/\u003e\n  at Socket.emit (events.js:182:7)\u003cbr/\u003e\n  at emitErrorNT (net.js:1246:8)\u003cbr/\u003e\n  at nextTickCallbackWith2Args (node.js:475:9)\u003cbr/\u003e\n  at process._tickDomainCallback (node.js:430:17)\u003cbr/\u003e\n { [Error: Failed to connect to MongoDB.  Are you sure your configured Mongo instance is running?\u003cbr/\u003e\n Error details:\u003cbr/\u003e\n{ [MongoError: connect ECONNREFUSED 127.0.0.1:27017]\u003cbr/\u003e\n  name: \u0026#39;MongoError\u0026#39;,\u003cbr/\u003e\n  message: \u0026#39;connect ECONNREFUSED 127.0.0.1:27017\u0026#39; }]\u003cbr/\u003e\n  originalError: \u003cbr/\u003e\n   { [MongoError: connect ECONNREFUSED 127.0.0.1:27017]\u003cbr/\u003e\n     name: \u0026#39;MongoError\u0026#39;,\u003cbr/\u003e\n     message: \u0026#39;connect ECONNREFUSED 127.0.0.1:27017\u0026#39; } }\u003cbr/\u003e\nad hoc redis client ready (pub) (1337)\u003cbr/\u003e\n/home/leosuncin/Workspaces/github/sails-issue-3581/node_modules/mongodb/lib/mongo_client.js:444\u003cbr/\u003e\n              throw err\u003cbr/\u003e\n              ^\u003c/p\u003e\n\n\u003cp\u003eTypeError: Cannot set property \u0026#39;connection\u0026#39; of undefined\u003cbr/\u003e\n  at /home/leosuncin/Workspaces/github/sails-issue-3581/node_modules/sails-mongo/lib/adapter.js:108:53\u003cbr/\u003e\n  at /home/leosuncin/Workspaces/github/sails-issue-3581/node_modules/sails-mongo/lib/connection.js:32:5\u003cbr/\u003e\n  at /home/leosuncin/Workspaces/github/sails-issue-3581/node_modules/mongodb/lib/mongo_client.js:441:15\u003cbr/\u003e\n  at nextTickCallbackWith0Args (node.js:453:9)\u003cbr/\u003e\n  at process._tickDomainCallback (node.js:423:13)\u003cbr/\u003e\n```\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://github.com/balderdashy/sails/issues/3581\"\u003ehttps://github.com/balderdashy/sails/issues/3581\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e","Time":"2016-02-22T15:31:49Z","Tags":["Linux","zsh","xterm-256color"]}